# 缓存

## 强缓存

强缓存会直接访问浏览器本地是否存在缓存文件，如果存在则直接使用，通常通过以下缓存规则进行配置：

1. 添加Expires：设置过期时间来设置强缓存
2. 添加Cache-Control：当设置为max-age=300时，在规定的时间内会强缓存

## 协商缓存

协商缓存是在获取资源时会到服务器端对资源文件是否过期进行判断，通常通过以下缓存规则进行配置：

1. Etag和If-None-Match：在上一次获取资源时会携带文件的Etag信息，而后获取相同文件时会通过If-None-Match携带Etag信息进行文件匹配，如果匹配上了则会304命中协商缓存，如果没有命中则会重新获取。
2. Last-Modified和If-Modified-Since：通过资源文件最后一次修改时间进行信息对比，如果在规定时间内则会命中缓存。

## 清除缓存的策略

1. 在每次发布时，路径中跟随Web应用的版本号：http://url.com/?v=20130501。
2. 在每次发布时，路径中跟随该文件内容的hash值：http://url.com/?hash=adddda
