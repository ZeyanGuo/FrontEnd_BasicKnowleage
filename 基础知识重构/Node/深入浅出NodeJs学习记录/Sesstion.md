# Session
Cookie存在以下问题：
1. Cookie在前后端都能进行修改，极易被伪造

因此Session应运而生，Session主要存储在服务器端，而对于Session而言，其需要将每个客户和服务器中的数据一一对应起来，而对此有两种实现方式：

1. 第一种：基于Cookie实现浏览器和服务器数据的映射
2. 第二种：通过查询字符串来实现浏览器和服务器数据的映射
3. 第三种：HTTP请求头中的Etag来实现浏览器和服务器数据的映射

相较而言的优缺点：

Cookie的方式在更换了浏览器或者电脑后登陆状态就对丢失，而使用查询字符串的方式则可以在更换电脑或浏览器后保留登录状态，但是同时也存在更高的安全风险。而少见的Etag方式与Cookie存在一样的问题


## Session存在的问题

1. Session与内存：连接过多会导致Session过多而触及内存上限，引起垃圾回收的频繁扫描而引起性能问题。
2. Session与进程：由于不同进程之间内存是不会共享的，因此会造成Session数据无法跨进程共享。

针对以上的问题：常用的解决方案是将Session集中化，将原本可能分散在多个进程里的数据，目前常用的工具是Redis、Memcached等。

而使用第三方存储Session必然引起网络问题，理论上来说访问网络上的数据要比访问本地磁盘中的数据速度要慢，因此涉及到握手、传输以及网络终端自身的磁盘I/O等，尽管如此但依然会采用这些高速缓存的理由有以下几条：

1. Node与缓存服务保持长连接，而非频繁的短链接，握手导致的延迟只影响初始化。
2. 高速缓存直接在内存中进行数据存储和访问。
3. 缓存服务器通常与Node进程运行在相同的机器上或者相同的机房里，网络速度受到的影响较小。

## Session与安全

Session安全指的是被存储在客户端的口令是存在被盗用的情况，如果WEb应用的用户十分多，自行设计的随机算法的一些口令指就有理论机会命中有效口令值。

因此此处的安全就是指口令的安全。
有一种做法是将这个口令通过私钥进行加密进行签名，使得伪造成本高。

而使用Cookie的情况可能会由于XSS脚本攻击导致Cookie被别人获取而盗用。
